## 操作系统

计算机中最基础的那些程序集合被称为操作系统，其中最核心的那个程序被称为内核。

操作系统主要实现两个目标：
1. 与硬件交互，位硬件平台底层可编程元件提供服务
2. 为在计算机上运行的应用层序提供执行环境

一些操作系统，比如MS-DOS允许用户程序直接操作硬件，但是类UNIX操作系统隐藏了底层细节，用户程序要想操作硬件必须通过内核，且内核会对用户的行为做“评估”，确定是否可以执行相应操作。为了实现这一机制，现代操作系统依赖一些特殊硬件的可使用性，实现了隔绝硬件和应用层程序。具体来说硬件为CPU引入两种模式：内核模式、用户模式，这两种模式对应不同的权限级别。

## 多用户系统

## 用户和组

## 进程

所有操作系统都执行一个基础的抽象：进程。进程可以定义为正在执行的程序的实例，或执行程序的文本。在传统操作系统中，一个进程在地址空间中执行一系列的指令；地址空间是允许进程引用的内存地址集。

现代操作系统允许在同一个地址空间中执行多个指令序列，也就是多进程并发执行。

> 区分程序与进程，程序加载执行时会创建进程，程序是静态的可执行文件。

在单处理器系统中，一个进程独占CPU，同一时间只有一个执行流可以执行。

一般来说CPU总数有限，因此同一时间只能有少数进程可以执行，因此进程执行需要调度。

## 内核架构

### 宏内核
### 微内核

## 文件

## 硬链接和软链接

## 文件类型

### 普通文件
### 文件夹
### 符号链接
### 块设备文件
### 字符设备文件
### 管道和有名管道
### 套接字文件

## 文件描述符和inode

Unix 对文件内容和文件信息做了明确区分。除了设备文件和特殊文件系统文件，每个文件都由字节序列组成，不包含任何文件长度、结束符等内容。

文件系统处理文件所需的所有信息都包含在被称为 inode 的结构中。每个文件都有唯一的inode，文件系统用它来识别文件。

文件系统和处理它的函数可能有区别，但是必须提供POSIX标准定义的如下属性：
- 文件类型
- 文件硬链接数量
- 文件长度
- 设备ID（文件所在设备的唯一ID）
- inode
- 文件属主UID
- 文件属组GUD
- 一些时间相关属性：修改时间、访问时间、属性修改时间
- 权限信息

## 访问权限和文件模式

用户、组、其他用户权限位：
- 读
- 写
- 执行

除此之外还有三个权限位：
- suid：一般执行程序的进程保留执行用户的UID，设置此位后，执行进程将会拥有文件所属用户的UID
- sgid：同上
- sticky：程序执行后仍然留在内存中

## 文件处理系统调用

### 打开文件

### 访问打开文件

读、写

### 关闭文件

### 重命名和删除文件


